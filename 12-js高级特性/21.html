<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		window.onload = function(){
			var divs = document.querySelectorAll('div');
			for (var i = 0; i < divs.length; i++) {
				var div = divs[i];

				// div.dataset['index'] = i+1;
				// div.onclick = function () {
				// 	alert('我是第'+this.dataset['index']+'个div');
				// }
				
				// function foo(j){
				// 	return function(){
				// 		alert('我是第'+j+1+'个div');
				// 	}
				// }
				// var f = foo(i);
				// div.onclick = f;
				
				div.onclick = function (j){
					return function(){
						alert('我是第'+(j+1)+'个div');
					}
				}(i);	
			}

			(function (){
				console.log('自调用函数');
			})();
		}
	</script>
</head>
<body>
	<div>我是第1个div</div>
	<div>我是第2个div</div>
	<div>我是第3个div</div>
	<div>我是第4个div</div>
	<div>我是第5个div</div>
	<div>我是第6个div</div>
	<div>我是第7个div</div>
	<div>我是第8个div</div>
	<div>我是第9个div</div>
	<div>我是第10个div</div>
</body>
</html>